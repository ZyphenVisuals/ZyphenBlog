<!doctype html><html><head><title>Simple Database for movie metadata</title><base href="./"><meta id="root-path" root-path="./"><link rel="icon" sizes="96x96" href="https://publish-01.obsidian.md/access/f786db9fac45774fa4f0d8112e232d67/favicon-96x96.png"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=yes,minimum-scale=1,maximum-scale=5"><meta charset="UTF-8"><link rel="stylesheet" href="lib/styles/obsidian-styles.css"><link rel="stylesheet" href="lib/styles/theme.css"><link rel="stylesheet" href="lib/styles/plugin-styles.css"><link rel="stylesheet" href="lib/styles/snippets.css"><link rel="stylesheet" href="lib/styles/generated-styles.css"><style></style><script src="lib/scripts/webpage.js"></script><script src="lib/scripts/generated.js"></script></head><body class="theme-dark show-inline-title show-ribbon plugin-cm-typewriter-scroll loading"><div class="webpage-container"><div class="sidebar-left sidebar"><div class="sidebar-container"><div class="sidebar-sizer"><div class="sidebar-content-positioner"><div class="sidebar-content"><div><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="tree-container file-tree mod-nav-indicator" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Zyphen's Blog</span><button class="clickable-icon collapse-tree-button is-collapsed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area"><div class="tree-item mod-tree-file" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="creating-a-kali-linux-vm-using-vmware-player.html"><span class="tree-item-title">Creating a Kali Linux VM using VMWare Player</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="creating-a-video-kiosk-on-windows-10-home.html"><span class="tree-item-title">Creating a video kiosk on Windows 10 Home</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="simple-database-for-movie-metadata.html"><span class="tree-item-title">Simple Database for movie metadata</span></a></div><div class="tree-item-children"></div></div><div class="tree-item mod-tree-file" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="welcome!.html"><span class="tree-item-title">Welcome!</span></a></div><div class="tree-item-children"></div></div></div></div></div></div></div></div><div class="sidebar-gutter"><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div></div><div class="document-container show"><div class="markdown-preview-view markdown-rendered node-insert-event is-readable-line-width allow-fold-headings show-indentation-guide allow-fold-lists show-properties" style="tab-size:4"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section" style="min-height:8285px"><div class="markdown-preview-pusher" style="width:1px;height:.1px;margin-bottom:0"></div><div class="mod-header mod-ui"></div><div class="el-p"><p dir="auto">This article was written as part of a homework proposed during the <code>Databases</code> course taught at my university.</p></div><div class="el-h1 heading-wrapper"><h1 data-heading="Motivation" dir="auto" class="heading" id="Motivation"><div class="heading-before"></div>Motivation<div class="heading-after">...</div></h1><div class="heading-children"><div class="el-p"><p dir="auto">The idea for designing a small database for movies comes from the work I did on analyzing some key data from the <a data-tooltip-position="top" aria-label="https://www.themoviedb.org/" rel="noopener nofollow" class="external-link" href="https://www.themoviedb.org/" target="_blank">tmdb</a> (The Movie Database) API. We needed to analyze the network of people working on different movies produced in Europe, be it in the form of actors or different types of staff. This meant I needed an efficient way to store that relational data, as well as retrieve it later: the perfect job for a DBMS.</p></div><div class="el-p"><p dir="auto">In reality, I had to abandon that project last year due to time constraints, but the rest of the team did see it to completion. Now, one year later, I want to look back at that project and see how I should've structured that data.</p></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="The entities involved" dir="auto" class="heading" id="The_entities_involved"><div class="heading-before"></div>The entities involved<div class="heading-after">...</div></h1><div class="heading-children"><div class="el-p"><p dir="auto">For a simple movie database, 3 types of entities are most important:</p></div><div class="el-ol"><ol><li data-line="0" dir="auto">Movies</li><li data-line="1" dir="auto">People (be that actors or staff)</li><li data-line="2" dir="auto">Companies</li></ol></div><div class="el-p"><p dir="auto">We can structure these entities into 3 tables, as such:</p></div><div class="el-p"><p dir="auto"><span alt="draw.io_k2AVyOC9Mf.png" src="resources\simple-database-for-movie-metadata\draw.io_k2avyoc9mf.png" class="internal-embed media-embed image-embed is-loaded"><img alt="draw.io_k2AVyOC9Mf.png" src="resources\simple-database-for-movie-metadata\draw.io_k2avyoc9mf.png"></span></p></div><div class="el-p"><p dir="auto">For every <code>movie</code> we want to remember:</p></div><div class="el-ul"><ul><li data-line="0" dir="auto">an unique numerical ID, stored as <code>integer</code>, being the <code>primary key</code></li><li data-line="1" dir="auto">the title, stored as <code>text</code></li><li data-line="2" dir="auto">the description, stored as <code>text</code></li><li data-line="3" dir="auto">the cover image, where we store its URL as <code>text</code></li><li data-line="4" dir="auto">the release date, stored as a <code>date</code></li></ul></div><div class="el-p"><p dir="auto">For every <code>person</code> we want to remember:</p></div><div class="el-ul"><ul><li data-line="0" dir="auto">an unique numerical ID, stored as <code>integer</code>, being the <code>primary key</code></li><li data-line="1" dir="auto">the name, stored as <code>text</code></li><li data-line="2" dir="auto">the bio, stored as <code>text</code></li><li data-line="3" dir="auto">the profile picture, where we store its URL as <code>text</code></li><li data-line="4" dir="auto">the date of birth, stored as a <code>date</code></li></ul></div><div class="el-p"><p dir="auto">For every <code>company</code> we want to remember:</p></div><div class="el-ul"><ul><li data-line="0" dir="auto">an unique numerical ID, stored as <code>integer</code>, being the <code>primary key</code></li><li data-line="1" dir="auto">the name, stored as <code>text</code></li><li data-line="2" dir="auto">the logo, where we store its URL as <code>text</code></li><li data-line="3" dir="auto">the country of origin, stored as <code>text</code></li></ul></div><div class="el-div"><div data-callout-metadata="" data-callout-fold="" data-callout="note" class="callout node-insert-event"><div class="callout-title" dir="auto"><div class="callout-icon"><svg height="16" style="width:16px;max-width:100%"></svg></div><div class="callout-title-inner">Data types</div></div><div class="callout-content"><p dir="auto">The data types used in this article are valid for <code>postgresql</code> databases, and follow the manual available <a data-tooltip-position="top" aria-label="https://www.postgresql.org/docs/current/datatype.html" rel="noopener nofollow" class="external-link" href="https://www.postgresql.org/docs/current/datatype.html" target="_blank">here</a>. Data types such as <code>text</code> could have been further optimized by using a different character type with a fixed or limited length, but that is outside the scope of this article.</p></div></div></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="The relationships" dir="auto" class="heading" id="The_relationships"><div class="heading-before"></div>The relationships<div class="heading-after">...</div></h1><div class="heading-children"><div class="el-p"><p dir="auto">Now for the most important part, let's look at how we can draw relations between these individual entities. We can immediately tell that</p></div><div class="el-ul"><ul><li data-line="0" dir="auto"><code>people</code> can work on <code>movies</code>. This is a <em>many-to-many</em> relation, as a person can work on multiple movies and a movie can have multiple people working on it. We might also want to know what position they occupied on the staff of the movie.</li><li data-line="1" dir="auto"><code>people</code> can act in <code>movies</code>. This is a <em>many-to-many</em> relation, as a person can act in multiple movies and a movie can have multiple people acting in it. We might also want to know what role they played in the movie.</li><li data-line="2" dir="auto"><code>companies</code> can produce <code>movies</code>. This is a <em>many-to-many</em> relation, as a company can produce multiple movies and a movie can have multiple companies producing it.</li></ul></div><div class="el-p"><p dir="auto">Since these relationships are <em>many-to-many</em>, we need to introduce more tables in order to map them out. Therefore, we get the following:</p></div><div class="el-p"><p dir="auto"><span alt="draw.io_yKiA3Fr3Rd.png" src="resources\simple-database-for-movie-metadata\draw.io_ykia3fr3rd.png" class="internal-embed media-embed image-embed is-loaded"><img alt="draw.io_yKiA3Fr3Rd.png" src="resources\simple-database-for-movie-metadata\draw.io_ykia3fr3rd.png"></span></p></div><div class="el-p"><p dir="auto">The <code>Acted</code> table stores records of what <code>people</code> acted in what <code>movies</code>, by storing:</p></div><div class="el-ul"><ul><li data-line="0" dir="auto">The <code>integer</code> id of the person</li><li data-line="1" dir="auto">The <code>integer</code> id of the movie</li><li data-line="2" dir="auto">The role the person played, stored as <code>text</code></li><li data-line="3" dir="auto">Its own ID, stored as <code>integer</code> and used as a <code>primary key</code>. This is necessary since the same person can play multiple roles in the same movie, and so <code>(person, movie)</code> cannot be used as a <code>compound primary key</code>.</li></ul></div><div class="el-p"><p dir="auto">The <code>Worked</code> table stores records of what <code>people</code> worked on what <code>movies</code>, by storing:</p></div><div class="el-ul"><ul><li data-line="0" dir="auto">The <code>integer</code> id of the person</li><li data-line="1" dir="auto">The <code>integer</code> id of the movie</li><li data-line="2" dir="auto">The position the person occupied on the staff, stored as <code>text</code></li><li data-line="3" dir="auto">Its own ID, stored as <code>integer</code> and used as a <code>primary key</code>. This is necessary since the same person can occupy multiple positions in the staff of a movie, and so <code>(person, movie)</code> cannot be used as a <code>compound primary key</code>.</li></ul></div><div class="el-p"><p dir="auto">The <code>Produced</code> table stores records of what <code>companies</code> produced what <code>movies</code>, by storing:</p></div><div class="el-ul"><ul><li data-line="0" dir="auto">The <code>integer</code> id of the company</li><li data-line="1" dir="auto">The <code>integer</code> id of the movie</li></ul></div><div class="el-p"><p dir="auto">Note that the <code>Produced</code> table does not need its own ID, as the same company cannot produce the same movie multiple times and so <code>(company, movie)</code> can be used together as a <code>compound primary key</code>.</p></div></div></div><div class="el-h1 heading-wrapper"><h1 data-heading="Normalization" dir="auto" class="heading" id="Normalization"><div class="heading-before"></div>Normalization<div class="heading-after">...</div></h1><div class="heading-children"><div class="el-p"><p dir="auto">We are required to have the Database be at least in the second normal form, so let's check that that is indeed true.</p></div><div class="el-h2 heading-wrapper"><h2 data-heading="First normal form (1NF)" dir="auto" class="heading" id="First_normal_form_(1NF)"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>First normal form (1NF)<div class="heading-after">...</div></h2><div class="heading-children"><div class="el-p"><p dir="auto">In order for a database to be in <code>1NF</code>, the following properties must hold:</p></div><div class="el-ol"><ol><li data-line="0" dir="auto"><strong>Each column value must be a single value only.</strong> This is true as no columns contain lists or other similar data types, and instead all values are atomic.</li><li data-line="1" dir="auto"><strong>All values for a given column must be of the same type.</strong> This is true as the datatype for each column is clearly defined in the database design.</li><li data-line="2" dir="auto"><strong>Each column name must be unique.</strong> This is true within each table. If we wanted it to be true globally as well, we could simply prepend the name of the table to the name of each of its columns, however that is not required.</li><li data-line="3" dir="auto"><strong>The order of columns is insignificant.</strong> This is true as each column represents its own property of the entity and does not care about any other properties.</li><li data-line="4" dir="auto"><strong>No two rows in a relation can be identical.</strong> This is true as each table contains a primary key, ensuring uniqueness of each row.</li><li data-line="5" dir="auto"><strong>The order of rows is insignificant.</strong> This is true as each row represents its own entity and does not depend on the entities around it.</li></ol></div><div class="el-p"><p dir="auto">Since all conditions are met, we know the database is at least in <code>1NF</code>.</p></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="Second normal form (2NF)" dir="auto" class="heading" id="Second_normal_form_(2NF)"><div class="heading-before"></div><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle" style="width:24px;max-width:100%"><path d="M3 8L12 17L21 8"></path></svg></div>Second normal form (2NF)<div class="heading-after">...</div></h2><div class="heading-children"><div class="el-p"><p dir="auto">In order for a database to be in <code>2NF</code>, the following properties must hold:</p></div><div class="el-ol"><ol><li data-line="0" dir="auto"><strong>The database must be in <code>1NF</code></strong>. This is true, as proven above.</li><li data-line="1" dir="auto"><strong>The database must not contain any partial key dependencies.</strong></li></ol></div><div class="el-p"><p dir="auto">For most tables in the proposed database, the <code>primary key</code> is also the <em>only</em> <code>candidate key</code>, and so partial key dependencies are impossible.</p></div><div class="el-p"><p dir="auto">The only exception is the <code>Produced</code> table, which features a <code>compound primary key</code> and therefore two <code>candidate keys</code>. However, since there are no other columns in this table, a partial key dependency is also impossible.</p></div><div class="el-p"><p dir="auto">Since all conditions are met, we now know the database is at least in <code>2NF</code> and therefore satisfies our requirements.</p></div><div class="mod-footer mod-ui"></div></div></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-gutter"><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-container"><div class="sidebar-sizer"><div class="sidebar-content-positioner"><div class="sidebar-content"><div class="tree-container outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area"><div class="tree-item" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Motivation"><span class="tree-item-title"><p dir="auto">Motivation</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#The_entities_involved"><span class="tree-item-title"><p dir="auto">The entities involved</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#The_relationships"><span class="tree-item-title"><p dir="auto">The relationships</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="1"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Normalization"><span class="tree-item-title"><p dir="auto">Normalization</p></span></a></div><div class="tree-item-children"><div class="tree-item" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#First_normal_form_(1NF)"><span class="tree-item-title"><p dir="auto">First normal form (1NF)</p></span></a></div><div class="tree-item-children"></div></div><div class="tree-item" data-depth="2"><div class="tree-item-contents"><a class="internal-link tree-item-link" href="#Second_normal_form_(2NF)"><span class="tree-item-title"><p dir="auto">Second normal form (2NF)</p></span></a></div><div class="tree-item-children"></div></div></div></div></div></div></div></div></div></div></div></div></body></html>
